name: Setup base (checkout, python, pip cache, tox)
runs:
  using: "composite"
  steps:
    - name: pip cache
      uses: actions/cache@v4
      with:
        path: |
          ~/.cache/pip
        key: ${{ runner.os }}-pip-${{ inputs.python }}
    - uses: actions/setup-python@v6
      with:
        python-version: ${{ inputs.python }}
    - name: upgrade pip and install tox
      shell: bash
      run: |
        python -m pip -q install --upgrade pip "setuptools==65.6.2"
        pip -q install "tox<4" tox-gh-actions
